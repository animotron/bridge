/*
* Kendo UI v2011.3.1129 (http://kendoui.com)
* Copyright 2011 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at http://kendoui.com/license.
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3. For GPL requirements, please
* review: http://www.gnu.org/copyleft/gpl.html
*/

(function($,undefined){function bindSelect(select,model){select=$(select);var text=select.attr(kendo.attr("text-field")),value=select.attr(kendo.attr("value-field")),source=select.attr(kendo.attr("source"));if(model[source])source=model[source].call(model);else try{source=eval(source)}catch(e){return}$.isArray(source)&&select.html(kendo.render(kendo.template('<option value="${'+value+'}">${'+text+"}</option>"),source))}var kendo=window.kendo,Observable=kendo.Observable,data=kendo.data,Model=data.Model,CHANGE="change",ModelViewBinder=Observable.extend({init:function(a,b,c){var d=this;d.element=$(a),d.options=c||{},Observable.fn.init.call(d),d.model=b instanceof Model?b:new(Model.define())(b),d.bind([CHANGE],d.options);var e=d.element.find("input,select,textarea");e.length||(e=d.element),e.bind(CHANGE,$.proxy(d._change,d)).each(function(){var a=d._map(this);a&&a.bindView()})},bindModel:function(){var a=this,b=!0;a.element.find("input,select,textarea").each(function(){var c=a._map(this);if(c)return b=c.bindModel()});return b},_change:function(a){var b=this,c=b._map(a.target);c&&c.bindModel()},_map:function(a){var b=this,c=b.model,d=b.options,e=$(a),f=e.attr(kendo.attr("field"))||e.attr("name"),g=d[f]||{};if(f)return{bindView:function(){var b=c.get(f);g.format&&(b=g.format(b)),a.nodeName.toLowerCase()==="select"&&bindSelect(a,c),e.is(":checkbox")?e.attr("checked",b===!0):e.val(b)},bindModel:function(){var d=e.is(":checkbox")?e.is(":checked"):a.value,h={};g.parse&&(d=g.parse(d)),h[f]=d;if(!b.trigger(CHANGE,{values:h})){c.set(f,d);return!0}return!1}}}});data.ModelViewBinder=ModelViewBinder})(jQuery)