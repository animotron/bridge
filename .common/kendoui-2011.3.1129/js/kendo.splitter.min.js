/*
* Kendo UI v2011.3.1129 (http://kendoui.com)
* Copyright 2011 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at http://kendoui.com/license.
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3. For GPL requirements, please
* review: http://www.gnu.org/copyleft/gpl.html
*/

(function(a,b){function B(a){var b=this,d=a.orientation;b.owner=a,b._element=a.element,b.orientation=d,e(b,d===o?A:z),b._resizable=new c.ui.Resizable(a.element,{orientation:d,handle:".k-splitbar-draggable-"+d,hint:f(b._createHint,b),start:f(b._start,b),max:f(b._max,b),min:f(b._min,b),invalidClass:"k-restricted-size-"+d,resizeend:f(b._stop,b)})}function x(b,c){return function(d,e){var f=a(d).data(s);if(arguments.length==1)return f[b];f[b]=e;if(c){var g=this.element.data("kendoSplitter");g.trigger(m)}}}function w(a){return!u(a)&&!v(a)}function v(a){return h.test(a)}function u(a){return i.test(a)}var c=window.kendo,d=c.ui,e=a.extend,f=a.proxy,g=d.Widget,h=/^\d+(\.\d+)?px$/i,i=/^\d+(\.\d+)?%$/i,j="expand",k="collapse",l="contentLoad",m="resize",n="layoutChange",o="horizontal",p="vertical",q="mouseenter",r="click",s="pane",t="mouseleave",y=g.extend({init:function(b,c){var d=this,e,h,i=".k-splitbar .k-icon:not(.k-resize-handle)",s=function(){d.trigger(m)};g.fn.init.call(d,b,c),d.orientation=d.options.orientation.toLowerCase()!=p?o:p,h=".k-splitbar-draggable-"+d.orientation,d.bind([j,k,l,m,n],d.options),d.bind(m,f(d._resize,d)),d._initPanes(),d.element.delegate(h,q,function(){a(this).addClass("k-splitbar-"+d.orientation+"-hover")}).delegate(h,t,function(){a(this).removeClass("k-splitbar-"+d.orientation+"-hover")}).delegate(h,"mousedown",function(){d.element.find("> .k-pane > .k-content-frame").after("<div class='k-overlay' />")}).delegate(i,q,function(){a(this).addClass("k-state-hover")}).delegate(i,t,function(){a(this).removeClass("k-state-hover")}).delegate(".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",r,d._arrowClick(k)).delegate(".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",r,d._arrowClick(j)).delegate(".k-splitbar","dblclick",f(d._dbclick,d)).parent().closest(".k-splitter").each(function(){a(this).data("kendoSplitter").bind(m,s)}),a(window).resize(s),d.resizing=new B(d)},options:{name:"Splitter",orientation:o},_initPanes:function(){var b=this,c=b.options.panes||[];b.element.addClass("k-widget").addClass("k-splitter").children().addClass("k-pane").each(function(d,e){var f=c&&c[d];e=a(e),e.data(s,f?f:{}).toggleClass("k-scrollable",f?f.scrollable!==!1:!0),b.ajaxRequest(e)}).end(),b.trigger(m)},ajaxRequest:function(b,d,e){b=a(b);var f=this,g=b.data(s);d=d||g.contentUrl,d&&(b.append("<span class='k-icon k-loading k-pane-loading' />"),c.isLocalUrl(d)?a.ajax({url:d,data:e||{},type:"GET",dataType:"html",success:function(a){b.html(a),f.trigger(l,{pane:b[0]})}}):b.removeClass("k-scrollable").html("<iframe src='"+d+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+NaN))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_dbclick:function(b){var c=this,d=a(b.target),e;if(d.closest(".k-splitter")[0]==c.element[0]){e=d.children(".k-icon:not(.k-resize-handle)");if(e.length!==1)return;e.is(".k-collapse-prev")?c._triggerAction(k,d.prev()):e.is(".k-collapse-next")?c._triggerAction(k,d.next()):e.is(".k-expand-prev")?c._triggerAction(j,d.prev()):e.is(".k-expand-next")&&c._triggerAction(j,d.next())}},_arrowClick:function(b){var c=this;return function(d){var e=a(d.target),f;e.closest(".k-splitter")[0]==c.element[0]&&(e.is(".k-"+b+"-prev")?f=e.parent().prev():f=e.parent().next(),c._triggerAction(b,f))}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-splitbar-"+e).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev",g&&!h&&!j)+d("k-expand-prev",g&&h&&!j)+d("k-resize-handle",f)+d("k-collapse-next",i&&!j&&!h)+d("k-expand-next",i&&j&&!h))},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prev(".k-pane").data(s),e=c.next(".k-pane").data(s);!e||b._updateSplitBar(c,d,e)})},_resize:function(){var b=this,c=b.element,d=c.children(":not(.k-splitbar)"),e=b.orientation==o,f=c.children(".k-splitbar"),g=f.length,h=e?"width":"height",i=c[h]();g===0?(g=d.length-1,d.slice(0,g).after("<div class='k-splitbar' />"),b._updateSplitBars(),f=c.children(".k-splitbar")):b._updateSplitBars(),f.each(function(){i-=this[e?"offsetWidth":"offsetHeight"]});var j=0,k=0,l=a();d.css({position:"absolute",top:0})[h](function(){var b=a(this).data(s)||{},c;if(b.collapsed)c=0;else{if(w(b.size)){l=l.add(this);return}c=parseInt(b.size,10),u(b.size)&&(c=Math.floor(c*i/100))}k++,j+=c;return c}),i-=j;var m=l.length,p=Math.floor(i/m);l.slice(0,m-1).css(h,p).end().eq(m-1).css(h,i-(m-1)*p);var q=0,r=e?"height":"width",t=e?"left":"top",v=e?"offsetWidth":"offsetHeight";c.children().css(r,c[r]()).each(function(a,b){b.style[t]=Math.floor(q)+"px",q+=b[v]}),b.trigger(n)},toggle:function(c,d){var c=a(c),e=c.data(s);arguments.length==1&&(d=e.collapsed===b?!1:e.collapsed),e.collapsed=!d,this.trigger(m)},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},size:x("size",!0),min:x("min"),max:x("max")});d.plugin(y);var z={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},A={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};B.prototype={_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data(s),h=f.data(s),i=parseInt(e[0].style[c.positioningProperty]),j=parseInt(f[0].style[c.positioningProperty])+f[0][c.sizingDomProperty]-d[0][c.sizingDomProperty],k=c._element.css(c.sizingProperty),l=function(a){var b=parseInt(a,10);return(v(a)?b:k*b/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_max:function(a){return this._maxPosition},_min:function(a){return this._minPosition},_stop:function(b){var d=this,e=a(b.currentTarget);e.siblings(".k-pane").find("> .k-content-frame + .k-overlay").remove();if(b.keyCode!==c.keys.ESC){var f=b.position,g=e.prev(),h=e.next(),i=g.data(s),j=h.data(s),k=f-parseInt(g[0].style[d.positioningProperty]),l=parseInt(h[0].style[d.positioningProperty])+h[0][d.sizingDomProperty]-f-e[0][d.sizingDomProperty],n=d._element.children(".k-pane").filter(function(){return w(a(this).data(s).size)}).length;if(!w(i.size)||n>1)w(i.size)&&n--,i.size=k+"px";if(!w(j.size)||n>1)j.size=l+"px";d.owner.trigger(m)}return!1}}})(jQuery)