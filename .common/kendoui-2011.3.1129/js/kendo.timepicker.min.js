/*
* Kendo UI v2011.3.1129 (http://kendoui.com)
* Copyright 2011 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at http://kendoui.com/license.
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3. For GPL requirements, please
* review: http://www.gnu.org/copyleft/gpl.html
*/

(function(a,b){function C(a,b,c){var d=B(b),e=B(c),f;if(!a||d==e)return!0;f=B(a),d>f&&(f+=t),e<d&&(e+=t);return f>=d&&f<=e}function B(a){return a.getHours()*60*s+a.getMinutes()*s+a.getSeconds()*1e3+a.getMilliseconds()}function A(a,b){var c=a.getTimezoneOffset(),d=new x(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*s)}var c=window.kendo,d=c.support.touch,e=c.keys,f=c.ui,g=f.Widget,e=c.keys,h="change",i=d?"touchend":"click",j="k-state-default",k="disabled",l="li",m="<div/>",n="<span/>",o="k-state-focused",p="k-state-hover",q="mouseenter mouseleave",r=d?"touchstart":"mousedown",s=6e4,t=864e5,u="k-state-selected",v="k-state-disabled",w=a.proxy,x=Date,y=new x;y=new x(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0);var z=function(b){var d=this,e;d.options=b,d.ul=a('<ul class="k-list k-reset"/>').css({overflow:"auto"}).bind(r,b.clearBlurTimeout).delegate(l,i,w(d._click,d)).delegate(l,"mouseenter",function(){a(this).addClass(p)}).delegate(l,"mouseleave",function(){a(this).removeClass(p)}),d.list=a("<div class='k-list-container'/>").append(d.ul),d._popup(),d.template=c.template('<li class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};z.prototype={current:function(c){var d=this;if(c!==b)d._current&&d._current.removeClass(u),c&&(c=a(c),c.addClass(u),d.scroll(c[0])),d._current=c;else return d._current},close:function(){this.popup.close()},open:function(){var a=this;a.ul[0].firstChild||a.refresh(),a.popup.open(),a._current&&a.scroll(a._current[0])},refresh:function(){var a=this,b=a.options,d=b.format,e=b.min,f=b.max,g=B(e),h=B(f),i=b.interval*s,j=c.toString,k=a.template,l=new x(e),m=t/i,n=0,m,o="";g!=h&&(g>h&&(h+=t),m=(h-g)/i+1);for(;n<m;n++)n&&A(l,i),h&&B(l)>h&&(l=new x(f)),o+=k(j(l,d));a.ul[0].innerHTML=o,a._height(m),a.select(a._value)},scroll:function(a){if(!!a){var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},select:function(b){var c=this,d=c._current;typeof b=="string"&&(!d||d.text()!==b?(b=a.grep(c.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null):b=d),c.current(b)},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget);c.select(d),c.options.change(d.text(),!0),c.close()},_height:function(a){if(a){var b=this,c=b.list,d=c.parent(".k-animation-container"),e=b.options.height;c.add(d).show().height(b.ul[0].scrollHeight>e?e:"auto").hide()}},_popup:function(){var a=this,b=a.list,c=a.options,d=c.anchor,e;a.popup=new f.Popup(b,{anchor:d,open:c.open,close:c.close,animation:c.animation}),e=d.outerWidth()-(b.outerWidth()-b.width()),b.css({fontFamily:d.css("font-family"),width:e})},move:function(a){var b=this,c=a.keyCode,d=b.ul[0],f=b._current,g=c===e.DOWN;if(c===e.UP||g){if(a.altKey){b.toggle(g);return}g?f=f?f[0].nextSibling:d.firstChild:f=f?f[0].previousSibling:d.lastChild,f&&b.select(f),b.options.change(b._current.text()),a.preventDefault()}else if(c===e.ENTER||c===e.TAB||c===e.ESC)a.preventDefault(),b.close()}},c.TimeView=z;var D=g.extend({init:function(b,d){var e=this;g.fn.init.call(e,b,d),b=e.element,d=e.options,d.format=d.format||c.culture().calendar.patterns.t,e._wrapper(),e.timeView=new z(a.extend({},d,{anchor:e.wrapper,format:d.format,change:function(a,c){c?e._change(a):b.val(a)},clearBlurTimeout:w(e._clearBlurTimeout,e)})),e._icon(),b.addClass("k-input").bind({keydown:w(e._keydown,e),focus:function(a){clearTimeout(e._bluring),e._inputWrapper.addClass(o)},blur:w(e._blur,e)}).closest("form").bind("reset",function(){e.value(b[0].defaultValue)}),e.bind(h,d),e.enable(!b.is("[disabled]")),e.value(d.value||b.val())},options:{name:"TimePicker",min:y,max:y,value:null,interval:30,height:200},enable:function(a){var b=this,c=b._arrow,d=b.element,e=b._inputWrapper;c.unbind(i).unbind(r),a===!1?(e.removeClass(j).addClass(v).unbind(q),d.attr(k,k)):(e.removeClass(v).addClass(j).bind(q,b._toggleHover),d.removeAttr(k),c.bind(i,w(b._click,b)).bind(r,w(b._clearBlurTimeout,b)))},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;if(a===b)return c._value;c._old=c._update(a)},_blur:function(){var a=this;a._bluring=setTimeout(function(){a._change(a.element.val()),d||a.close(),a._inputWrapper.removeClass(o)},100)},_clearBlurTimeout:function(){var a=this;setTimeout(function(){clearTimeout(a._bluring),a.element.focus()})},_click:function(){this.timeView.toggle()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b.trigger(h),b.element.trigger(h))},_icon:function(){var b=this,c=b.element,d;d=c.next("span.k-select"),d[0]||(d=a('<span class="k-select"><span class="k-icon k-icon-clock">select</span></span>').insertAfter(c)),b._arrow=d},_keydown:function(a){var b=this,c=a.keyCode,d=c==e.ENTER,f=b.timeView;(f.popup.visible()||a.altKey||d)&&f.move(a),d&&b._change(b.element.val())},_option:function(a,c){var d=this,e=d.options;if(c===b)return e[a];c=d._parse(c);!c||(c=new x(c),e[a]=c,d.timeView.options[a]=c,d.timeView.refresh())},_parse:function(a){var b=this,d=b._value||y;if(a instanceof x)return a;a=c.parseDate(a,b.options.format),a&&(a=new x(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return a},_toggleHover:function(b){d||a(b.currentTarget).toggleClass(p,b.type==="mouseenter")},_update:function(a){var b=this,d=b._value,e=b.options,f=b._parse(a),g=c.toString(f,e.format);C(f,e.min,e.max)||(f=null),b._value=f,b.element.val(f?g:a),b.timeView.value(g);return f},_wrapper:function(){var b=this,c=b.element,d;d=c.parents(".k-timepicker"),d[0]||(d=c.wrap(n).parent().addClass("k-picker-wrap k-state-default"),d=d.wrap(n).parent()),d[0].style.cssText=c[0].style.cssText,c.css({width:"100%",height:"auto"}),b.wrapper=d.addClass("k-widget k-timepicker k-header"),b._inputWrapper=a(d[0].firstChild)}});f.plugin(D)})(jQuery)